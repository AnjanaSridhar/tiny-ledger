{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/v1/ledger/accounts/{accountId}/withdraw":{"post":{"tags":["ledger-controller"],"operationId":"withdraw","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionUpdateRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BalancesResponse"}}}}}}},"/v1/ledger/accounts/{accountId}/deposit":{"post":{"tags":["ledger-controller"],"operationId":"deposit","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionUpdateRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BalancesResponse"}}}}}}},"/v1/ledger/accounts":{"get":{"tags":["ledger-controller"],"operationId":"accounts","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountsResponse"}}}}}}},"/v1/ledger/accounts/{accountId}/transactions":{"get":{"tags":["ledger-controller"],"operationId":"transactions","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionsResponse"}}}}}}},"/v1/ledger/accounts/{accountId}/balances":{"get":{"tags":["ledger-controller"],"operationId":"balances","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BalancesResponse"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"error":{"type":"string"},"errorMessage":{"type":"string"}}},"TransactionUpdateRequest":{"required":["amount"],"type":"object","properties":{"amount":{"minimum":0.00,"exclusiveMinimum":true,"type":"number"},"description":{"type":"string"}}},"Amount":{"type":"object","properties":{"currency":{"type":"string"},"value":{"type":"number"}}},"Balance":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"accountId":{"type":"string","format":"uuid"},"type":{"type":"string"},"balance":{"$ref":"#/components/schemas/Amount"}}},"BalancesResponse":{"type":"object","properties":{"balance":{"$ref":"#/components/schemas/Balance"}}},"Account":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"accountHolderName":{"type":"string"},"status":{"type":"string"}}},"AccountsResponse":{"type":"object","properties":{"accounts":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}}},"Transaction":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"accountId":{"type":"string","format":"uuid"},"description":{"type":"string"},"type":{"type":"string","enum":["CREDIT","DEBIT"]},"amount":{"$ref":"#/components/schemas/Amount"},"bookingDateTime":{"type":"string"}}},"TransactionsResponse":{"type":"object","properties":{"transactions":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"}}}}}}}